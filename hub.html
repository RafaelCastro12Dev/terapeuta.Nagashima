<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Central | Nagashima Terapia</title>
  <link rel="apple-touch-icon" href="fotos/fav-2.png">
  <link rel="icon" type="image/png" href="fotos/fav-2.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg-main: #050814;
      --bg-card: rgba(10, 14, 32, 0.92);
      --accent: #7d67ff;
      --accent-soft: #46c2ff;
      --text: #f5f5ff;
      --muted: #a3a6c7;
      --border-soft: rgba(255,255,255,0.08);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at 30% -10%, #21325b 0%, #0b1123 45%, #050814 90%);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", sans-serif;
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .hub {
      width: 100%;
      max-width: 900px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    .hub-card {
      background: var(--bg-card);
      border-radius: 18px;
      padding: 28px 24px;
      border: 1px solid var(--border-soft);
      box-shadow: 0 18px 40px rgba(0,0,0,0.6);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: transform .15s ease, box-shadow .15s ease;
    }

    .hub-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 24px 50px rgba(0,0,0,0.8);
    }

    .hub-card h2 {
      font-size: 18px;
      letter-spacing: .08em;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    .hub-card p {
      font-size: 14px;
      color: var(--muted);
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .hub-card a {
      align-self: flex-start;
      padding: 12px 22px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent), var(--accent-soft));
      color: #fff;
      text-decoration: none;
      font-size: 14px;
      font-weight: 600;
      transition: filter .15s ease;
    }

    .hub-card a:hover {
      filter: brightness(1.08);
    }

    .admin a {
      background: transparent;
      border: 1px solid var(--accent);
      color: var(--accent-soft);
    }

    .admin a:hover {
      background: rgba(125,103,255,0.1);
    }

    @media (max-width: 700px) {
      .hub {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    (async function() {
      console.log('üé® [HUB] Carregando tema...');
      try {
        const supabase = window.supabase.createClient(
          "https://qqxlmvmksgptjjnbzjtn.supabase.co",
          "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxeGxtdm1rc2dwdGpqbmJ6anRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NzA1NDQsImV4cCI6MjA3OTE0NjU0NH0.kKnIaothKFM7PRlkiUaN-wPPlnTq0HCjxOgB7-SMTSU"
        );
        const { data } = await supabase.from('theme_config').select('*').eq('id', 1).single();
        if (data) {
          const root = document.documentElement;
          if (data.bg_main) root.style.setProperty('--bg-main', data.bg_main, 'important');
          if (data.card_bg) root.style.setProperty('--bg-card', data.card_bg, 'important');
          if (data.accent) root.style.setProperty('--accent', data.accent, 'important');
          if (data.accent_soft) root.style.setProperty('--accent-soft', data.accent_soft, 'important');
          if (data.text_primary) root.style.setProperty('--text', data.text_primary, 'important');
          if (data.muted) root.style.setProperty('--muted', data.muted, 'important');
          console.log('‚úÖ [HUB] Tema aplicado:', data.theme_name);
        }
      } catch (err) {
        console.error('‚ùå [HUB] Erro:', err);
      }
    })();
  </script>
</head>
<body>

  <div class="hub">

    <!-- PACIENTE -->
    <div class="hub-card">
      <div>
        <h2>√Årea do Paciente</h2>
        <p>
          Preencha o formul√°rio de agendamento de forma r√°pida e segura.
          Seus dados ser√£o enviados diretamente para o terapeuta.
        </p>
      </div>
      <a href="index.html">Acessar formul√°rio</a>
    </div>

    <!-- ADMIN -->
    <div class="hub-card admin">
      <div>
        <h2>√Årea Administrativa</h2>
        <p>
          Gerencie hor√°rios, visualize agendamentos recebidos
          e organize o fluxo de atendimentos.
        </p>
      </div>
      <a href="admin.html">Entrar no painel</a>
    </div>

  </div>

  <!-- SCRIPT DE CARREGAMENTO DIN√ÇMICO DE CORES -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // Conectar ao Supabase
    const supabase = window.supabase.createClient(
      "https://qqxlmvmksgptjjnbzjtn.supabase.co",
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxeGxtdm1rc2dwdGpqbmJ6anRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NzA1NDQsImV4cCI6MjA3OTE0NjU0NH0.kKnIaothKFM7PRlkiUaN-wPPlnTq0HCjxOgB7-SMTSU"
    );

    // Carregar cores personalizadas do banco
    async function carregarCoresPersonalizadas() {
      try {
        const { data, error } = await supabase
          .from('theme_config')
          .select('*')
          .eq('id', 1)
          .single();

        if (error || !data) {
          console.log('Usando tema padr√£o');
          return;
        }

        // Aplicar cores no document root
        const root = document.documentElement;
        if (data.accent) root.style.setProperty('--accent', data.accent);
        if (data.accent_soft) root.style.setProperty('--accent-soft', data.accent_soft);
        if (data.bg_main) root.style.setProperty('--bg-main', data.bg_main);
        if (data.text_color) root.style.setProperty('--text', data.text_color);
        if (data.muted) root.style.setProperty('--muted', data.muted);
        if (data.border_soft) root.style.setProperty('--border-soft', data.border_soft);

        console.log('‚úÖ Tema carregado:', data.theme_name || 'Personalizado');
      } catch (err) {
        console.error('Erro ao carregar tema:', err);
      }
    }

    // Executar ao carregar a p√°gina
    carregarCoresPersonalizadas();
  </script>

</body>
</html>
